
$section_background_height: 400px;
$page_diagonal: 27%;


section {
    position: relative;
    min-height: $section_background_height;
    padding-bottom: 50px;
    .section_background_image {
        width: 100%;
        height: $section_background_height;
        position: absolute;
        bottom: 0;
        left: 0;
        background: no-repeat bottom center;
        background-size: 100%;
        z-index: -1;
        opacity: 0.3;
        display: none;

        @media (min-width: 768px) {
            display: block;
        }

    }


    // big diagonal pictures that intersperce the content

    &.section_big_picture {
        background: no-repeat bottom center ;
        background-size: cover;
        position: relative;
        min-height: 450px;
        margin: 0 0 50px;
        overflow: hidden;
        clip-path: polygon(0 #{$page_diagonal /2}, 100% 0%, 100% #{100% - ($page_diagonal /2) }, 0% 100%);


        &.section_big_picture_flipped {
            clip-path: polygon(0 0, 100% #{$page_diagonal /2}, 100% 100%, 0 #{100% - ($page_diagonal /2) });
        }



        @media (min-width: 768px) {
            min-height: 650px;

            background-attachment: fixed;
            clip-path: polygon(0 $page_diagonal, 100% 0%, 100% #{100% - $page_diagonal}, 0% 100%);


            .white_bar {
                width: 100%;
                height: 300px;
                background: transparentize(white, 0.5);
                position: absolute;
                top:0;
                left: 0;
                clip-path: polygon(0 0, 100% 0, 100% #{$page_diagonal -  16%} , 0 #{$page_diagonal + 33%} );
                &.white_bar_2 {
                        clip-path: polygon(0 0, 100% 0, 100% #{$page_diagonal -  20%} , 0 #{$page_diagonal + 33%} );
                }

            }

            &.section_big_picture_flipped {
                clip-path: polygon(0 0, 100% $page_diagonal, 100% 100%, 0 #{100% - $page_diagonal});

                .white_bar {
                    clip-path: polygon(0 0, 100% 0, 100% #{$page_diagonal + 33%} , 0 #{$page_diagonal - 16%} );
                    &.white_bar_2 {
                            clip-path: polygon(0 0, 100% 0, 100% #{$page_diagonal + 33%} , 0 #{$page_diagonal - 20%} );
                    }
                }
            }

        }

    }

}



$shadow_distance: 15px;
$parralel_amount: 20%;

.section_row {
    display: flex;
    flex-wrap: wrap;
    margin: 0 0 30px;

    &.section_row_flip {
        flex-direction: row-reverse;

    }



    .section_col {
        flex: 1 auto 0;
        padding: 0 0;
        width: 100%;
        min-width: 100%;
        margin: 0 0 30px;

        img {
            width: 100%;
            height: auto;
        }

        .image_image {
            background: no-repeat center center;
            background-size: cover;
            height: 400px;
            width: 100%;
        }

        @media (min-width: 768px) {
            width: #{100% / 2};
            min-width: #{100% / 2};
            padding: 0 15px;


            .image_parallelogram {
                position: relative;

                .image_image, .shadow_1, .shadow_2 {
                    clip-path: polygon(0 $parralel_amount, 100% 0, 100% 100%, 0 #{100% - $parralel_amount}  );
                    position: relative;
                    z-index: 2;
                }
                .shadow_1, .shadow_2 {
                    position: absolute;
                    top: #{$shadow_distance * -1};
                    left: $shadow_distance;
                    width: 100%;
                    height: 100%;
                    background: $brand_color;
                    opacity: 0.1;
                    z-index: 1;
                    &.shadow_2 {
                        top: #{$shadow_distance * -2};
                        left: #{$shadow_distance * 2};
                    }
                }
            }


        }

    }

    @media (min-width: 768px) {
        text-align: right;
        &.section_row_flip {
            text-align: left;

            .section_col {
                .image_image, .shadow_1, .shadow_2 {
                    clip-path: polygon(0 0, 100% $parralel_amount, 100% #{100% - $parralel_amount} , 0 100%);
                }
                .shadow_1, .shadow_2 {
                    top: #{$shadow_distance * -1};
                    left: #{$shadow_distance * -1};

                    &.shadow_2 {
                        top: #{$shadow_distance * -2};
                        left: #{$shadow_distance * -2};
                    }
                }
            }
        }
    }


}
